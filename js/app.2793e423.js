(function(e){function t(t){for(var n,i,r=t[0],c=t[1],u=t[2],m=0,d=[];m<r.length;m++)i=r[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],n=!0,r=1;r<o.length;r++){var c=o[r];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var n=o("85ec"),a=o.n(n);a.a},"09bc":function(e,t,o){"use strict";var n=o("dc4e"),a=o.n(n);a.a},"0dc6":function(e,t,o){"use strict";var n=o("3a65"),a=o.n(n);a.a},"193c":function(e,t,o){"use strict";var n=o("21e1"),a=o.n(n);a.a},"21e1":function(e,t,o){},"2a37":function(e,t,o){"use strict";var n=o("5ccf"),a=o.n(n);a.a},"34c8":function(e,t,o){"use strict";var n=o("66e1"),a=o.n(n);a.a},"3a65":function(e,t,o){},"4bd9":function(e,t,o){"use strict";var n=o("8075"),a=o.n(n);a.a},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("main",[o("div",{staticClass:"app-container"},[o("header",{staticClass:"app-header"},[o("v-toolbar",{attrs:{visible:"false"}},[o("v-toolbar-items",[1==this.logged?o("v-btn",{attrs:{to:"/feed",text:""}},[e._v("Feed")]):e._e(),1==this.logged?o("v-btn",{attrs:{to:"/users"}},[e._v("Users")]):e._e(),1==this.logged?o("v-btn",{attrs:{to:"/profile"}},[e._v("Profile")]):e._e(),0==this.logged?o("v-btn",{attrs:{to:"/login"}},[e._v("Login")]):e._e(),0==this.logged?o("v-btn",{attrs:{to:"/signup"}},[e._v("Sign Up")]):e._e(),o("v-spacer"),1==this.logged?o("v-btn",{attrs:{color:"red"},on:{click:e.logout}},[e._v("Log out")]):e._e()],1)],1)],1),o("router-view")],1)])])},s=[],i={name:"App",components:{},data:function(){return{logged:!1}},methods:{changeNavBar:function(){1==this.logged?this.logged=!1:this.logged=!0},logout:function(){confirm("Are you sure you want to log out?")&&(this.$store.commit("changeTheID",""),this.$store.commit("changeTheNombre",""),this.$store.commit("changeTheApellido",""),this.$store.commit("changeTheEmail",""),this.$store.commit("changeTheContrasena",""),this.$store.commit("changeTheActivo",""),this.logged=!1,this.$router.push("/login"))},closeAll:function(){this.$store.commit("changeTheID",""),this.$store.commit("changeTheNombre",""),this.$store.commit("changeTheApellido",""),this.$store.commit("changeTheEmail",""),this.$store.commit("changeTheContrasena",""),this.$store.commit("changeTheActivo",""),this.logged=!1,this.$router.push("/login")}},mounted:function(){var e=this;this.bus.$on("changeNavBar",(function(){e.changeNavBar()})),this.bus.$on("closeAll",(function(){e.closeAll()}))},created:function(){this.$router.push("/login")}},r=i,c=(o("034f"),o("2877")),u=Object(c["a"])(r,a,s,!1,null,null,null),l=u.exports,m=o("ce5b"),d=o.n(m);o("bf40");n["default"].use(d.a);var h=new d.a({icons:{iconfont:"mdi"}}),b=o("8c4f"),f=o("2f62");n["default"].use(f["a"]);var p=new f["a"].Store({state:{id:"",nombre:"",apellido:"",email:"",contrasena:"",activo:"",numero_subjects:0},mutations:{changeTheID:function(e,t){e.id=t},changeTheNombre:function(e,t){e.nombre=t},changeTheApellido:function(e,t){e.apellido=t},changeTheEmail:function(e,t){e.email=t},changeTheContrasena:function(e,t){e.contrasena=t},changeTheActivo:function(e,t){e.activo=t},changeTheNumSubs:function(e,t){e.numero_subjects=t},aumentarLosSubs:function(e){e.numero_subjects++},disminuirLosSubs:function(e){e.numero_subjects--}},actions:{changeID:function(e,t){var o=e.commit;o("changeTheID",t)},changeNombre:function(e,t){var o=e.commit;o("changeTheNombre",t)},changeApellido:function(e,t){var o=e.commit;o("changeTheApellido",t)},changeEmail:function(e,t){var o=e.commit;o("changeTheEmail",t)},changeContrasena:function(e,t){var o=e.commit;o("changeTheContrasena",t)},changeActivo:function(e,t){var o=e.commit;o("changeTheActivo",t)},changeNumSubs:function(e,t){var o=e.commit;o("changeTheNumSubs",t)},aumentarSubs:function(e){var t=e.commit;t("aumentarLosSubs")},disminuirSubs:function(e){var t=e.commit;t("disminuirLosSubs")}}}),v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-card",[o("v-app-bar",{attrs:{color:"blue"}},[e._v("New Subject")]),o("form",{on:{submit:function(t){return t.preventDefault(),e.saveSubject(t)}}},[o("v-text-field",{staticClass:"margen",attrs:{label:"Subject Title"},model:{value:e.titulo,callback:function(t){e.titulo=t},expression:"titulo"}}),o("v-text-field",{staticClass:"margen",attrs:{label:"Subject Description"},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}}),o("v-btn",{staticClass:"margen",attrs:{type:"submit",color:"green"}},[e._v("CREATE")])],1)],1),e._l(e.subjects,(function(e){return o("v-row",{key:e.id},[o("app-subject",{attrs:{subject:e}})],1)}))],2)},g=[],_=(o("4160"),o("159b"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1"),o("div",[o("h2",{staticClass:"style",attrs:{id:"titulo"}},[e._v(e._s(e.subject.titulo))]),o("h3",{staticClass:"style"},[e._v(e._s(e.subject.nombre_autor))]),o("hr"),o("p",{staticClass:"style"},[e._v(e._s(e.subject.descripcion))])]),e.user_id==e.subject.id_autor?o("v-btn",{attrs:{outlined:"true",color:"red"},on:{click:e.deleteSubject}},[e._v("DELETE")]):e._e()],1)}),j=[],$=o("8aa5"),T=o.n($),y=(o("e71f"),{apiKey:"AIzaSyA_tGYGRmfKdsrmE43Ck5W0gmRFHBg_baY",authDomain:"frontend-project-18e44.firebaseapp.com",databaseURL:"https://frontend-project-18e44.firebaseio.com",projectId:"frontend-project-18e44",storageBucket:"frontend-project-18e44.appspot.com",messagingSenderId:"373613879178",appId:"1:373613879178:web:13914e9f309b94a6dd7273"}),C=T.a.initializeApp(y),S=C.firestore(),x={props:{subject:{type:Object}},computed:{user_id:function(){return this.$store.state.id},num_subs:function(){return this.$store.state.numero_subjects}},methods:{deleteSubject:function(){confirm("Are you sure you want to delete the subject?")&&(S.collection("subjects").doc(this.subject.id).delete().catch((function(e){console.error("Error removing document: ",e)})),alert("Subject deleted"),this.$store.commit("disminuirLosSubs"),S.collection("usuarios").doc(this.user_id).update({numero_subjects:this.num_subs}),this.bus.$emit("updateSubjects"))}}},E=x,w=(o("09bc"),Object(c["a"])(E,_,j,!1,null,null,null)),A=w.exports,N={components:{appSubject:A},data:function(){return{success:!1,subjects:[],titulo:null,descripcion:null}},computed:{user_id:function(){return this.$store.state.id},user_name:function(){return this.$store.state.nombre+" "+this.$store.state.apellido},num_subs:function(){return this.$store.state.numero_subjects}},methods:{saveSubject:function(){null==this.titulo||null==this.descripcion?alert("Fill all the information"):(S.collection("subjects").add({titulo:this.titulo,descripcion:this.descripcion,id_autor:this.user_id,nombre_autor:this.user_name}).catch((function(e){return console.log(e)})),this.updateSubjects(),alert("Subject added succesfully"),this.$store.commit("aumentarLosSubs"),S.collection("usuarios").doc(this.user_id).update({numero_subjects:this.num_subs}))},updateSubjects:function(){var e=this;this.subjects=[],S.collection("subjects").get().then((function(t){t.forEach((function(t){var o={id:t.id,titulo:t.data().titulo,descripcion:t.data().descripcion,id_autor:t.data().id_autor,nombre_autor:t.data().nombre_autor};e.subjects.push(o),e.titulo=null,e.descripcion=null}))}))}},created:function(){var e=this;S.collection("subjects").get().then((function(t){t.forEach((function(t){var o={id:t.id,titulo:t.data().titulo,descripcion:t.data().descripcion,id_autor:t.data().id_autor,nombre_autor:t.data().nombre_autor};e.subjects.push(o)}))}))},mounted:function(){var e=this;this.bus.$on("updateSubjects",(function(){e.updateSubjects()}))}},k=N,O=(o("34c8"),Object(c["a"])(k,v,g,!1,null,null,null)),L=O.exports,U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-card",[o("v-app-bar",{attrs:{color:"blue"}},[e._v("Search User")]),o("form",{on:{submit:function(t){return t.preventDefault(),e.searchUser()}}},[o("v-text-field",{staticClass:"margen",attrs:{label:"User's name"},model:{value:e.elnombre,callback:function(t){e.elnombre=t},expression:"elnombre"}}),o("v-btn",{staticClass:"margen",attrs:{type:"submit",color:"green"}},[e._v("SEARCH")])],1),o("v-btn",{staticClass:"margen",attrs:{color:"yellow"},on:{click:function(t){return e.all()}}},[e._v("SHOW ALL")])],1),e._l(e.users,(function(e){return o("v-row",{key:e.id},[o("app-user",{attrs:{user:e}})],1)}))],2)},D=[],I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1"),o("div",[o("h3",{staticClass:"style"},[e._v(e._s(e.user.nombre)+" "+e._s(e.user.apellido))]),o("p",{staticClass:"style"},[e._v(e._s(e.user.email))]),o("p",{staticClass:"style"},[e._v("Active : "+e._s(e.user.activo))]),o("p",{staticClass:"style"},[e._v("Number of messages : "+e._s(e.user.numero_subjects))])])])},P=[],R={props:{user:{type:Object}}},Y=R,B=(o("193c"),Object(c["a"])(Y,I,P,!1,null,null,null)),M=B.exports,q={components:{appUser:M},data:function(){return{users:[],elnombre:null}},methods:{searchUser:function(){var e=this;this.users=[],S.collection("usuarios").get().then((function(t){t.forEach((function(t){if(t.data().nombre.toLowerCase()==e.elnombre.toLowerCase()){var o={id:t.id,nombre:t.data().nombre,apellido:t.data().apellido,email:t.data().email,activo:t.data().activo,numero_subjects:t.data().numero_subjects};e.users.push(o)}}))}))},all:function(){var e=this;this.users=[],S.collection("usuarios").get().then((function(t){t.forEach((function(t){var o={id:t.id,nombre:t.data().nombre,apellido:t.data().apellido,email:t.data().email,activo:t.data().activo,numero_subjects:t.data().numero_subjects};e.users.push(o)}))}))}},created:function(){var e=this;S.collection("usuarios").get().then((function(t){t.forEach((function(t){var o={id:t.id,nombre:t.data().nombre,apellido:t.data().apellido,email:t.data().email,activo:t.data().activo,numero_subjects:t.data().numero_subjects};e.users.push(o)}))}))}},F=q,G=(o("4bd9"),Object(c["a"])(F,U,D,!1,null,null,null)),H=G.exports,W=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-card",[o("v-app-bar",{attrs:{color:"blue"}},[e._v("Update Profile")]),o("form",{on:{submit:function(t){return t.preventDefault(),e.editUser(t)}}},[o("v-text-field",{staticClass:"margen",attrs:{label:"Name"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}}),o("v-text-field",{staticClass:"margen",attrs:{label:"Lastname"},model:{value:e.apellido,callback:function(t){e.apellido=t},expression:"apellido"}}),o("v-text-field",{staticClass:"margen",attrs:{label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),o("p",{staticClass:"style"},[e._v("Number of messages : "+e._s(e.numero_subjects))]),o("v-btn",{staticClass:"margen",attrs:{type:"submit",color:"green"}},[e._v("UPDATE")]),o("v-btn",{staticClass:"margen",attrs:{color:"red"},on:{click:function(t){return e.closeAccount()}}},[e._v("CLOSE ACCOUNT")])],1)],1)],1)},z=[],J={data:function(){return{id:"",nombre:"",apellido:"",id_subjects:[],email:"",numero_subjects:""}},computed:{id_usu:function(){return this.$store.state.id},nombre_usu:function(){return this.$store.state.nombre},apellido_usu:function(){return this.$store.state.apellido},email_usu:function(){return this.$store.state.email},numero_subjects_usu:function(){return this.$store.state.numero_subjects}},created:function(){this.id=this.id_usu,this.nombre=this.nombre_usu,this.apellido=this.apellido_usu,this.email=this.email_usu,this.numero_subjects=this.numero_subjects_usu},methods:{editUser:function(){var e=this;S.collection("usuarios").doc(this.id).update({nombre:this.nombre,apellido:this.apellido,email:this.email}),this.$store.commit("changeTheNombre",this.nombre),this.$store.commit("changeTheApellido",this.apellido),this.$store.commit("changeTheEmail",this.email),alert("Profile updated!"),S.collection("subjects").get().then((function(t){t.forEach((function(t){t.data().id_autor==e.id&&S.collection("subjects").doc(t.id).update({nombre_autor:e.nombre+" "+e.apellido})}))}))},closeAccount:function(){confirm("Are you sure you want to close your account?")&&(this.numero_subjects>0?alert("You have one or more associated subjects, so you can't close your account"):(S.collection("usuarios").doc(this.id).update({activo:!1}),alert("Your account is now Inactive"),this.bus.$emit("closeAll")))}}},K=J,Q=(o("2a37"),Object(c["a"])(K,W,z,!1,null,null,null)),V=Q.exports,X=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",[e._v("Login")]),o("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[o("v-text-field",{staticClass:"margen",attrs:{label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),o("v-text-field",{staticClass:"input-group--focused margen",attrs:{type:"password",label:"Password"},model:{value:e.contrasena,callback:function(t){e.contrasena=t},expression:"contrasena"}}),o("v-btn",{staticClass:"margen",attrs:{type:"submit",color:"green"}},[e._v("ENTER")])],1)])},Z=[],ee={data:function(){return{email:"",contrasena:"",respuesta:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"}}}},methods:{loginUser:function(){var e=this;S.collection("usuarios").get().then((function(t){t.forEach((function(t){t.data().email==e.email&&t.data().contrasena==e.contrasena&&(1==t.data().activo?(e.$store.commit("changeTheID",t.id),e.$store.commit("changeTheNombre",t.data().nombre),e.$store.commit("changeTheApellido",t.data().apellido),e.$store.commit("changeTheEmail",t.data().email),e.$store.commit("changeTheContrasena",t.data().contrasena),e.$store.commit("changeTheActivo",t.data().activo),e.$store.commit("changeTheNumSubs",t.data().numero_subjects),alert("You're logged!"),e.respuesta=!0,e.bus.$emit("changeNavBar"),e.$router.push("/feed")):confirm("Your account is clossed (inactive). Do you wish to re open it?")&&(S.collection("usuarios").doc(t.id).update({activo:!0}),alert("Your account is now active"),e.$store.commit("changeTheID",t.id),e.$store.commit("changeTheNombre",t.data().nombre),e.$store.commit("changeTheApellido",t.data().apellido),e.$store.commit("changeTheEmail",t.data().email),e.$store.commit("changeTheContrasena",t.data().contrasena),e.$store.commit("changeTheActivo",t.data().activo),e.$store.commit("changeTheNumSubs",t.data().numero_subjects),alert("You're logged!"),e.respuesta=!0,e.bus.$emit("changeNavBar"),e.$router.push("/feed")))})),0==e.respuesta&&alert("Wrong email or password")}))}}},te=ee,oe=(o("d6db"),Object(c["a"])(te,X,Z,!1,null,null,null)),ne=oe.exports,ae=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",[e._v("Sign Up")]),o("form",{on:{submit:function(t){return t.preventDefault(),e.saveUser(t)}}},[o("v-text-field",{staticClass:"margen",attrs:{label:"Name"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}}),o("v-text-field",{staticClass:"margen",attrs:{label:"Last Name"},model:{value:e.apellido,callback:function(t){e.apellido=t},expression:"apellido"}}),o("v-switch",{staticClass:"ma-2",attrs:{label:"Active"},model:{value:e.activo,callback:function(t){e.activo=t},expression:"activo"}}),o("v-text-field",{staticClass:"margen",attrs:{label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),o("v-text-field",{staticClass:"input-group--focused margen",attrs:{rules:[e.rules.required,e.rules.min],type:"password",label:"Password",hint:"At least 8 characters"},model:{value:e.contrasena,callback:function(t){e.contrasena=t},expression:"contrasena"}}),o("v-btn",{staticClass:"margen",attrs:{type:"submit",color:"green"}},[e._v("REGISTER")])],1)])},se=[],ie={data:function(){return{user:{nombre:"",apellido:"",activo:!1,contrasena:"",email:"",numero_subjects:"",id_mensajes:null,id_subjets:null},rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"}}}},methods:{saveUser:function(){null==this.nombre||null==this.apellido||null==this.activo||null==this.email||null==this.contrasena?alert("Llene todos los campos"):(this.numero_subjects=0,S.collection("usuarios").add({nombre:this.nombre,apellido:this.apellido,activo:this.activo,email:this.email,contrasena:this.contrasena,numero_subjects:this.numero_subjects}).catch((function(e){return console.log(e)}))),alert("You've been registred. Now please login!"),this.$router.push("/login")}}},re=ie,ce=(o("0dc6"),Object(c["a"])(re,ae,se,!1,null,null,null)),ue=ce.exports,le=[{path:"/login",component:ne},{path:"/signup",component:ue},{path:"/feed",component:L},{path:"/users",component:H},{path:"/profile",component:V}];n["default"].config.productionTip=!1,n["default"].prototype.bus=new n["default"],n["default"].use(b["a"]),n["default"].use(h);var me=new b["a"]({routes:le});new n["default"]({vuetify:h,router:me,store:p,render:function(e){return e(l)}}).$mount("#app")},"5ccf":function(e,t,o){},"66e1":function(e,t,o){},8075:function(e,t,o){},"85ec":function(e,t,o){},d6db:function(e,t,o){"use strict";var n=o("e67a"),a=o.n(n);a.a},dc4e:function(e,t,o){},e67a:function(e,t,o){}});
//# sourceMappingURL=app.2793e423.js.map